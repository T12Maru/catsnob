{{ define "title" }}{{ .ProfileUser.Name}}{{ end }}

{{ define "content" }}

<h1>{{ .ProfileUser.Name }}</h1>
<img class="profile-img" src="{{ .ProfileUser.ImgUrl }}" alt="Profile Image">
<h2> Reviews </h2>
<div class="reviews">
	<p> Album Image </p>
	<p> Album Name </p>
	<p> Score </p>
	<p> Actions </p>
	{{ range .Reviews}}
	<a href="/app/album/{{ .AlbumID }}"><img src="{{ .ImgUrl }}" alt=" image" ></a>
	<p>{{ .Name }}</p>
	<p>{{ .Score }}</p>
	<div class="actions">
		<a href="/app/user/{{ $.ProfileUser.Name }}/review/{{ .ID}}" class="action-btn">
			<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M120-120v-320h80v184l504-504H520v-80h320v320h-80v-184L256-200h184v80H120Z"/></svg>
		</a>
		<button onclick="deleteReview('{{ .ID }}')" class="action-btn delete-btn">
			<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>
		</button>
		<button onclick="showDialog('{{ .ID }}')" class="action-btn update-btn">
		<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"/>Update</svg>
		</button>
	</div>
	{{ end }}
</div>

<div id="updateDialog" class="dialog">
	<h3>Update Review</h3>
	<input id="title" type="text" placeholder="Title"><br><br>
	<textarea id="review" placeholder="Review this album"></textarea><br><br>
	<label for="rating">Rate this item:</label>
	<select name="rating" id="rating" required>
		<option value="">Select a rating</option>
		<option value="0.5">0.5</option>
		<option value="1.0">1.0</option>
		<option value="1.5">1.5</option>
		<option value="2.0">2.0</option>
		<option value="2.5">2.5</option>
		<option value="3.0">3.0</option>
		<option value="3.5">3.5</option>
		<option value="4.0">4.0</option>
		<option value="4.5">4.5</option>
		<option value="5.0">5.0</option>
	</select>
	<button onclick="submitUpdate()">Submit</button>
	<button onclick="closeDialog()">Cancel</button>
</div>
<script src="/app/assets/jscript/reviews.js"></script>
{{ end }}
